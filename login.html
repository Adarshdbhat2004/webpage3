<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SAMPUTA â€“ Admin Login</title>

<style>
body{
  font-family: Arial, sans-serif;
  background:#f1f5f9;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  margin:0;
}
.login-box{
  background:#fff;
  padding:25px;
  width:320px;
  border-radius:10px;
  box-shadow:0 6px 18px rgba(0,0,0,.12);
}
h2{text-align:center;color:#1e40af;}
input{
  width:100%;
  padding:10px;
  margin-top:12px;
  border-radius:6px;
  border:1px solid #ccc;
}
button{
  width:100%;
  margin-top:16px;
  padding:10px;
  background:#1e40af;
  color:#fff;
  border:none;
  border-radius:6px;
  font-weight:600;
  cursor:pointer;
}
#error{
  margin-top:10px;
  color:red;
  text-align:center;
}
</style>
</head>

<body>

<div class="login-box">
  <h2>Admin Login</h2>

  <input type="text" id="username" placeholder="Username">
  <input type="password" id="password" placeholder="Password">

  <button id="loginBtn" onclick="login()">Login</button>
  <div id="error"></div>
</div>

<script>
const LOGIN_API =
"https://script.google.com/macros/s/AKfycbwkIT-OTvqqUp9VjAgMy4gI33Q608INB0rgfBl38AVqG-R9Z81zt8qvRGZMgt8P2RKxmg/exec";

function login(){
  const username = document.getElementById("username").value.trim();
  const password = document.getElementById("password").value.trim();
  const error = document.getElementById("error");
  const btn = document.getElementById("loginBtn");

  error.innerText = "";

  if(!username || !password){
    error.innerText = "Enter username and password";
    return;
  }

  btn.innerText = "Checking...";
  btn.disabled = true;

  const fd = new URLSearchParams();
  fd.append("username", username);
  fd.append("password", password);

  fetch(LOGIN_API,{
    method:"POST",
    body: fd
  })
  .then(res => res.json())
  .then(data => {
    if(data.status === "success"){
      localStorage.setItem("adminLoggedIn","true");
      window.location.href = "admin.html";
    } else {
      error.innerText = "Invalid username or password";
      btn.innerText = "Login";
      btn.disabled = false;
    }
  })
  .catch(() => {
    error.innerText = "Server error";
    btn.innerText = "Login";
    btn.disabled = false;
  });
}
</script>

</body>
</html>
